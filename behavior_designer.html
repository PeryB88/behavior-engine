<!DOCTYPE html>
<html>
    <head>
      <meta charset="UTF-8">
      <title>Behavior Designer</title>
      <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
      <script
			  src="https://code.jquery.com/jquery-2.2.3.min.js"
			  integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="
			  crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
      <script src="behavior_designer.js"></script>
      <script type="text/javascript">
        'use strict';

        $(document).ready(function() {
          $(':button').prop('disabled', true);

          $(':file#globals_file').change(function (event) {
            $('#globals_section :button:disabled').prop('disabled', false);
            $('#globals_container textarea').remove();
            readGlobalsFile(event);
          });

          $(':button#getGlobals').click(function () {
            if (globals !== null) {
              downloadHeaderFile(globals.toCpp(), $('#globals_file').val());
            }
          });

          $(':file#decisions_file').change(function (event) {
            $('#decisions_section :button:disabled').prop('disabled', false);
            readDecisionFile(event);
          });

          $(':button#addDecision').click(function () {
            intelligence.addEmptyDecision();
          });

          $(':button#getDecisions').click(function () {
            if (intelligence !== null) {
              downloadHeaderFile(intelligence.toCpp(), $('#decisions_file').val());
            }
          });
        });
      </script>
      <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
      <style>
        html {
          padding: 0;
          margin: 0;
        }

        #globals_container {
          border: 3px dotted;
          margin: 5px;
          padding: 5px;
        }

        #intelligence_container {
          border: 3px dashed;
          margin: 5px;
          padding: 5px;
        }

        .label-cross {
          float: right;
          color: #ff0000;
        }
      </style>
    </head>
    <body>
      <div id="globals_section">
        <input type="file" id="globals_file" />
        <input type="button" value="Download globals" id="getGlobals" />
      </div>
      <div id="globals_container">
      </div>

      <div id="decisions_section">
        <input type="file" id="decisions_file" />
        <input type="button" value="Add Decision" id="addDecision" />
        <input type="button" value="Download Decisions" id="getDecisions" />
      </div>

      <div id="intelligence_container">
      </div>
    </body>
</html>
